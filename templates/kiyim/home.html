{% extends 'kiyim/base.html' %}
{% block title %}MODA ‚Äî –ö–∏–π–∏–º –î“Ø–∫–∞–Ω—ã{% endblock %}
{% block extra_css %}
<style>
.hero { height:92vh; min-height:600px; background:linear-gradient(135deg,var(--dark) 0%,#2D1F10 50%,#1A0F05 100%); display:flex; align-items:center; position:relative; overflow:hidden; }
.hero-bg { position:absolute; inset:0; background-image:repeating-linear-gradient(45deg,rgba(201,169,110,0.03) 0px,rgba(201,169,110,0.03) 1px,transparent 1px,transparent 60px),repeating-linear-gradient(-45deg,rgba(201,169,110,0.03) 0px,rgba(201,169,110,0.03) 1px,transparent 1px,transparent 60px); }
.hero-content { position:relative; z-index:2; padding:0 80px; max-width:700px; animation:fadeUp 1s ease forwards; }
.hero-tag { font-size:11px; letter-spacing:5px; text-transform:uppercase; color:var(--gold); margin-bottom:24px; display:flex; align-items:center; gap:12px; }
.hero-tag::before { content:''; width:40px; height:1px; background:var(--gold); }
.hero-title { font-family:'Cormorant Garamond',serif; font-size:clamp(48px,7vw,96px); font-weight:300; color:var(--white); line-height:1.05; margin-bottom:28px; }
.hero-title em { color:var(--gold); font-style:italic; }
.hero-desc { color:rgba(255,255,255,0.5); font-size:16px; margin-bottom:40px; max-width:480px; }
.hero-actions { display:flex; gap:16px; flex-wrap:wrap; }
.hero-scroll { position:absolute; bottom:30px; left:50%; transform:translateX(-50%); color:rgba(255,255,255,0.3); font-size:11px; letter-spacing:3px; text-transform:uppercase; display:flex; flex-direction:column; align-items:center; gap:8px; }
.hero-scroll::after { content:''; width:1px; height:40px; background:linear-gradient(var(--gold),transparent); animation:pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:0.3} 50%{opacity:1} }
@keyframes fadeUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }

.marquee-wrap { background:var(--gold); padding:12px 0; overflow:hidden; }
.marquee-text { display:flex; gap:0; white-space:nowrap; animation:marquee 20s linear infinite; font-size:12px; letter-spacing:3px; text-transform:uppercase; color:var(--dark); font-weight:500; }
.marquee-text span { padding:0 30px; }
@keyframes marquee { from{transform:translateX(0)} to{transform:translateX(-50%)} }

.cats-bar { background:var(--white); border-bottom:1px solid var(--border); padding:0 40px; display:flex; overflow-x:auto; }
.cat-item { padding:20px 28px; text-decoration:none; font-size:12px; letter-spacing:2px; text-transform:uppercase; color:var(--text-muted); white-space:nowrap; border-bottom:2px solid transparent; transition:all 0.3s; display:flex; align-items:center; gap:8px; }
.cat-item:hover { color:var(--gold); border-bottom-color:var(--gold); }

.featured-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:2px; padding:0 40px; }
@media(max-width:1200px){.featured-grid{grid-template-columns:repeat(3,1fr);}}
@media(max-width:768px){.featured-grid{grid-template-columns:repeat(2,1fr);padding:0 20px;}}

.promo-banner { background:var(--dark); margin:0 40px 80px; padding:80px 60px; display:grid; grid-template-columns:1fr 1fr; gap:40px; align-items:center; position:relative; overflow:hidden; }
.promo-banner::before { content:'MODA'; position:absolute; right:-20px; top:-40px; font-family:'Cormorant Garamond',serif; font-size:200px; color:rgba(201,169,110,0.06); font-weight:600; line-height:1; user-select:none; }
.promo-feats { display:grid; grid-template-columns:1fr 1fr; gap:20px; }
.promo-feat { padding:20px; border:1px solid rgba(201,169,110,0.2); text-align:center; }
.promo-feat-icon { font-size:28px; margin-bottom:8px; }
.promo-feat-title { color:var(--gold); font-size:13px; margin-bottom:4px; }
.promo-feat-text { color:rgba(255,255,255,0.4); font-size:12px; }
</style>
{% endblock %}

{% block content %}
<!-- –ì–ï–†–û–ô -->
<section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
        <div class="hero-tag">–ñ–∞“£–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è 2024</div>
        <h1 class="hero-title">–°–∏–∑–∏“£<br><em>–°—Ç–∏–ª–∏“£–∏–∑</em><br>–ë–∏–∑–¥–µ</h1>
        <p class="hero-desc">“ö–∞—Ä–∞“õ–∞–ª–ø–∞“õ—Å—Ç–∞–Ω–Ω—ã“£ –µ“£–∏—Ä–∏ “Ø–ª–∫–µ–Ω –∫–∏–π–∏–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Å—ã. AI –∂”ô—Ä–¥–µ–º–∏–Ω–¥–µ —Ä–∞–∑–º–µ—Ä–∏“£–∏–∑–≥–µ –µ“£ –º–∞—Å –∫–∏–π–∏–º–ª–µ—Ä–¥–∏ —Ç–∞–±—ã“£.</p>
        <div class="hero-actions">
            <a href="{% url 'product_list' %}" class="btn btn-gold">–ê–ª—ã—û–¥—ã –ë–∞—Å–ª–∞—û</a>
            {% if not user.is_authenticated %}<a href="{% url 'register_choice' %}" class="btn btn-primary">–î–∏–∑–∏–º–≥–µ –∞–ª—ã–Ω—ã—û</a>{% endif %}
        </div>
    </div>
    <div class="hero-scroll">–¢”©–º–µ–Ω</div>
</section>

<!-- –ñ–ê–†–ò–Ø–õ–ê–ù–´–é –ñ–û–õ–ê“í–´ -->
<div class="marquee-wrap">
    <div class="marquee-text">
        <span>–ñ–∞“£–∞ –ö–æ–ª–ª–µ–∫—Ü–∏—è</span><span>‚Ä¢</span><span>–¢–µ–≥–∏–Ω –ñ–µ—Ç–∫–µ—Ä–∏—û</span><span>‚Ä¢</span>
        <span>AI –¢–∞—û—Å–∏—è</span><span>‚Ä¢</span><span>–°–∞–ø–∞–ª—ã –ö–∏–π–∏–º</span><span>‚Ä¢</span>
        <span>–ñ–µ“£–∏–ª “ö–∞–π—Ç–∞—Ä—ã—û</span><span>‚Ä¢</span><span>–ñ–∞“£–∞ –ö–æ–ª–ª–µ–∫—Ü–∏—è</span><span>‚Ä¢</span>
        <span>–¢–µ–≥–∏–Ω –ñ–µ—Ç–∫–µ—Ä–∏—û</span><span>‚Ä¢</span><span>AI –¢–∞—û—Å–∏—è</span><span>‚Ä¢</span>
        <span>–°–∞–ø–∞–ª—ã –ö–∏–π–∏–º</span><span>‚Ä¢</span><span>–ñ–µ“£–∏–ª “ö–∞–π—Ç–∞—Ä—ã—û</span><span>‚Ä¢</span>
    </div>
</div>

<!-- –ö–ê–¢–ï–ì–û–†–ò–Ø–õ–ê–† -->
<div class="cats-bar">
    {% for key, label in categories %}
    <a href="{% url 'product_list' %}?category={{ key }}" class="cat-item">
        {% if key == 'ustki' %}üß•{% elif key == 'ichki' %}üëï{% elif key == 'jemper' %}üß∂{% elif key == 'pidjak' %}ü§µ{% elif key == 'sport' %}‚ö°{% elif key == 'oyoq' %}üëü{% else %}üíé{% endif %}
        {{ label }}
    </a>
    {% endfor %}
</div>

<!-- –¢–ê–ù–´–õ“í–ê–ù ”®–ù–ò–ú–õ–ï–† -->
<section style="padding-bottom:80px;">
    <div class="section-header">
        <div class="section-tag">–ü–æ–ø—É–ª—è—Ä ”®–Ω–∏–º–ª–µ—Ä</div>
        <h2 class="section-title">–¢–∞“£–ª–∞–Ω“ì–∞–Ω –ö–æ–ª–ª–µ–∫—Ü–∏—è</h2>
    </div>
    <div class="featured-grid">
        {% for product in featured %}
        <a href="{% url 'product_detail' product.pk %}" style="text-decoration:none;">
        <div class="product-card">
            <div class="product-img-wrap">
                {% if product.main_image %}<img src="{{ product.main_image.url }}" alt="{{ product.name }}" loading="lazy">
                {% else %}<div class="product-no-img">{% if product.category == 'ustki' %}üß•{% elif product.category == 'oyoq' %}üëü{% elif product.category == 'sport' %}‚ö°{% else %}üëó{% endif %}</div>{% endif %}
                <span class="product-badge">{{ product.get_category_display }}</span>
            </div>
            <div class="product-info">
                <div class="product-category">{{ product.seller.shop_name }}</div>
                <div class="product-name">{{ product.name }}</div>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                    <span class="product-price">{{ product.price|floatformat:0 }} —Å—û–º</span>
                    <span style="font-size:11px;color:var(--text-muted);">{{ product.get_gender_display }}</span>
                </div>
            </div>
        </div>
        </a>
        {% empty %}
        <div style="grid-column:1/-1;text-align:center;padding:60px;color:var(--text-muted);">
            <div style="font-size:48px;margin-bottom:16px;">üõçÔ∏è</div>
            <p>“≤”ô–∑–∏—Ä—à–µ ”©–Ω–∏–º –∂–æ“õ</p>
        </div>
        {% endfor %}
    </div>
    <div style="text-align:center;margin-top:40px;">
        <a href="{% url 'product_list' %}" class="btn btn-outline">“≤”ô–º–º–µ—Å–∏–Ω –ö”©—Ä–∏—û</a>
    </div>
</section>

<!-- –ü–†–û–ú–û –ë–ê–ù–ù–ï–† -->
<div class="promo-banner">
    <div>
        <div style="color:var(--gold);font-size:11px;letter-spacing:4px;text-transform:uppercase;margin-bottom:16px;">–ù–µ–≥–µ –ë–∏–∑–¥–∏ –¢–∞“£–ª–∞–π–¥—ã</div>
        <h2 style="font-family:'Cormorant Garamond',serif;font-size:48px;color:var(--white);font-weight:300;line-height:1.2;margin-bottom:20px;">–ê“õ—ã–ª–ª—ã –¢–∞“£–ª–∞—û ‚Äî –°–∏–∑–∏“£ –†–∞–∑–º–µ—Ä–∏“£–∏–∑</h2>
        <p style="color:rgba(255,255,255,0.5);margin-bottom:32px;font-size:15px;">AI —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Å—ã –±–æ–π—ã“£—ã–∑, —Å–∞–ª–º–∞“ì—ã“£—ã–∑ “≥”ô–º —Ä–∞–∑–º–µ—Ä–∏“£–∏–∑ –±–æ–π—ã–Ω—à–∞ —Å–∏–∑–≥–µ –µ“£ –º–∞—Å –∫–∏–π–∏–º–ª–µ—Ä–¥–∏ —Ç–∞—û—Å–∏—è –µ—Ç–µ–¥–∏.</p>
        {% if not user.is_authenticated %}
        <a href="{% url 'register_client' %}" class="btn btn-gold">“≤”ô–∑–∏—Ä –î–∏–∑–∏–º–≥–µ –ê–ª—ã–Ω—ã—û</a>
        {% else %}
        <a href="{% url 'client_dashboard' %}" class="btn btn-gold">–¢–∞—û—Å–∏—è–ª–∞—Ä –ê–ª—ã—û</a>
        {% endif %}
    </div>
    <div class="promo-feats">
        <div class="promo-feat"><div class="promo-feat-icon">ü§ñ</div><div class="promo-feat-title">AI –¢–∞—û—Å–∏—è</div><div class="promo-feat-text">–†–∞–∑–º–µ—Ä–∏“£–∏–∑–≥–µ –º–∞—Å ”©–Ω–∏–º–ª–µ—Ä</div></div>
        <div class="promo-feat"><div class="promo-feat-icon">üì¶</div><div class="promo-feat-title">–¢–µ–∑ –ñ–µ—Ç–∫–µ—Ä–∏—û</div><div class="promo-feat-text">1-3 –∫“Ø–Ω –∏—à–∏–Ω–¥–µ</div></div>
        <div class="promo-feat"><div class="promo-feat-icon">‚Ü©Ô∏è</div><div class="promo-feat-title">“ö–∞–π—Ç–∞—Ä—ã—û</div><div class="promo-feat-text">14 –∫“Ø–Ω –∏—à–∏–Ω–¥–µ</div></div>
        <div class="promo-feat"><div class="promo-feat-icon">üîí</div><div class="promo-feat-title">“ö”ô—û–∏–ø—Å–∏–∑ –¢”©–ª–µ–º</div><div class="promo-feat-text">“ö–æ—Ä“ì–∞–ª“ì–∞–Ω —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è</div></div>
    </div>
</div>
{% endblock %}
